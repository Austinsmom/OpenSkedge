{% extends 'FlexSchedBundle::base.html.twig' %}

{% block stylesheets %}
<link href="{{ asset('css/dashboard.css') }}" rel="stylesheet" type="text/css" />
{% endblock %}

{% block javascripts %}
{% if get_controller_name()|capitalize == "Dashboard" %}
<script type="text/javascript" src="{{ asset('js/tickingclock.js') }}"></script>
<script type="text/javascript">
$(document).ready(function () {
  setDate('{{ "now"|date("F j, Y H:i:s") }}')
});
</script>
{% endif %}
{% endblock %}

{% block content %}
<div class="navbar navbar-inverse navbar-static-top">
    <div class="navbar-inner">
        <div class="container-fluid">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>
            <a class="brand" href="{{ path('dashboard') }}">FlexSkedge</a>
            <div class="nav-collapse collapse">
                <p class="navbar-text pull-right">
                  Logged in as <a href="{{ path('user') }}" class="navbar-link">{{ app.user.name }}</a>
                </p>
                <ul class="nav">
                  <li class="active"><a href="{{ path('dashboard') }}">Dashboard</a></li>
                </ul>
            </div><!--/.nav-collapse -->
        </div>
    </div>
</div>

<div class="container-fluid">
      <div class="row-fluid page-content-container">
        <div class="span3">
          <div class="well sidebar-nav">
            <ul class="nav nav-list">
              <li class="nav-header">My Actions</li>
              <li><a href="{{ path('dashboard') }}">Dashboard</a></li>
              <li><a href="{{ path('user_schedules') }}">Schedules</a></li>
              <li><a href="{{ path('user') }}">Profile</a></li>
              <li><a href="{{ path('user_supervisors') }}">Supervisors</a></li>
              <li><a href="{{ path('user_colleagues') }}">Colleagues</a></li>
              <li><a href="{{ path('user_positions') }}">Positions</a></li>
              {% if is_granted('ROLE_ADMIN') %}
              <li class="nav-header">Supervisor Actions</li>
              <li><a href="{{ path('users') }}">Users</a></li>
              <li><a href="{{ path('areas') }}">Areas &amp; Positions</a></li>
              <li><a href="{{ path('reports') }}">Reports</a></li>
              {% endif %}
              <li class="nav-header">FlexSkedge</li>
              <li><a href="{{ path('logout') }}">Logout</a></li>
            </ul>
          </div><!--/.well -->
        </div><!--/span-->
        <div class="span9">
        {% block modulecontent %}
            <div class="row-fluid">
              {% include 'FlexSchedBundle::clockmodule.html.twig' %}
            </div>
        {% endblock %}
        </div><!--/span-->
      </div><!--/row-->
      <hr>
    </div><!--/.fluid-container-->
{% endblock %}
