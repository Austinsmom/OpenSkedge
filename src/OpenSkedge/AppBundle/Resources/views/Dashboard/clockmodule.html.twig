<div id="clockmodule" class="span4 well well-large">
  <div id="clock">
    <span class="lead">{{ date()|date("F j, Y") }}</span>
    <h1 id="clockTime"></h1>
  </div>
{% spaceless %}
  {% if app.user.clock.status == 1 %}
    {% set action = 'out' %}
    {% set actionpath = 'clock_out' %}
  {% else %}
    {% set action = 'in' %}
    {% set actionpath = 'clock_in' %}
  {% endif %}
  {% if app.request.server.get("REMOTE_ADDR") != '127.0.0.1' %}{% set outside = true %}
  <div class="alert">
    <strong>Sorry!</strong> You cannot clock in. It appears you're not accessing FlexSkedge from work.
  </div>
  {% endif %}
{% endspaceless %}
  <form action="{{ path(actionpath) }}" method="post">
    <button class="btn btn-primary btn-large btn-block" type="submit" {% if outside|default(false) %}disabled{% endif %}>Clock {{ action|capitalize }}</button>
  </form>
</div>
